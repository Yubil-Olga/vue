(function(t){function e(e){for(var a,o,s=e[0],c=e[1],l=e[2],u=0,p=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],a=!0,s=1;s<r.length;s++){var c=r[s];0!==n[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=r[0]))}return t}var a={},n={app:0},i=[];function o(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=a,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/vue/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var a=r("1356"),n=r.n(a);n.a},1356:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-navigation-drawer",{attrs:{app:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list",[t._l(t.links,(function(e){return r("v-list-item",{key:e.title,attrs:{to:e.url}},[r("v-list-item-icon",[r("v-icon",[t._v(t._s(e.icon))])],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)})),t.isUserLoggedIn?r("v-list-item",{on:{click:t.onLogout}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-exit-to-app")])],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s("Logout")}})],1)],1):t._e()],2)],1),r("v-app-bar",{attrs:{app:"",dark:"",color:"primary"}},[r("v-app-bar-nav-icon",{staticClass:"d-md-none",on:{click:function(e){t.drawer=!t.drawer}}}),r("v-toolbar-title",[r("router-link",{staticClass:"pointer",attrs:{to:"/",tag:"span"}},[t._v("\n     Ad application\n     ")])],1),r("v-spacer"),r("v-toolbar-items",{staticClass:"d-none d-md-flex"},[t._l(t.links,(function(e){return r("v-btn",{key:e.title,attrs:{text:"",to:e.url}},[r("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v("\n       "+t._s(e.title)+"\n       ")],1)})),t.isUserLoggedIn?r("v-btn",{attrs:{text:""},on:{click:t.onLogout}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-exit-to-app")]),t._v("\n        Exit\n       ")],1):t._e()],2)],1),r("v-content",[r("router-view")],1),t.error?[r("v-snackbar",{attrs:{color:"error","multi-line":!0,timeout:5e3,value:!0},on:{click:t.closeError}},[t._v("\n    "+t._s(t.error)+"\n    "),r("v-btn",{attrs:{dark:"",text:""},on:{click:t.closeError}},[t._v("\n      Close\n    ")])],1)]:t._e()],2)},i=[],o={data:function(){return{drawer:!1}},computed:{error:function(){return this.$store.getters.error},isUserLoggedIn:function(){return this.$store.getters.isUserLoggedIn},links:function(){return this.isUserLoggedIn?[{title:"Orders",icon:"mdi-bookmark-outline",url:"/orders"},{title:"New ad",icon:"mdi-note-plus",url:"/new"},{title:"My ads",icon:"mdi-format-list-bulleted",url:"/list"}]:[{title:"Login",icon:"mdi-lock",url:"login"},{title:"Registration",icon:"mdi-face",url:"/registration"}]}},methods:{closeError:function(){this.$store.dispatch("clearError")},onLogout:function(){this.$store.dispatch("logoutUser"),this.$router.push("/")}}},s=o,c=(r("034f"),r("2877")),l=r("6544"),d=r.n(l),u=r("7496"),p=r("40dc"),m=r("5bc1"),v=r("8336"),f=r("a75b"),h=r("132d"),g=r("8860"),b=r("da13"),w=r("5d23"),x=r("34c3"),y=r("f774"),V=r("2db4"),C=r("2fa4"),_=r("2a7f"),k=Object(c["a"])(s,n,i,!1,null,null,null),O=k.exports;d()(k,{VApp:u["a"],VAppBar:p["a"],VAppBarNavIcon:m["a"],VBtn:v["a"],VContent:f["a"],VIcon:h["a"],VList:g["a"],VListItem:b["a"],VListItemContent:w["a"],VListItemIcon:x["a"],VListItemTitle:w["c"],VNavigationDrawer:y["a"],VSnackbar:V["a"],VSpacer:C["a"],VToolbarItems:_["a"],VToolbarTitle:_["b"]});var E=r("8c4f"),L=r("2f62"),j=(r("8e6e"),r("456d"),r("ac6a"),r("bd86")),A=(r("7f7f"),r("96cf"),r("3b8d")),I=(r("7514"),r("d225")),S=r("8aa5");function $(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function R(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$(r,!0).forEach((function(e){Object(j["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var T=function t(e,r,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;Object(I["a"])(this,t),this.title=e,this.description=r,this.ownerId=a,this.imageSrc=n,this.promo=i,this.id=o},P={state:{ads:[]},mutations:{createAd:function(t,e){t.ads.push(e)},loadAds:function(t,e){t.ads=e},updateAd:function(t,e){var r=e.title,a=e.description,n=e.id,i=t.ads.find((function(t){return t.id==n}));i.title=r,i.description=a}},actions:{createAd:function(){var t=Object(A["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,i,o,s,c,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=e.getters,a("clearError"),a("setLoading",!0),i=r.image,t.prev=4,o=new T(r.title,r.description,n.user.id,"",r.promo),t.next=8,S["database"]().ref("ads").push(o);case 8:return s=t.sent,c=i.name.slice(i.name.lastIndexOf(".")),t.next=12,S["storage"]().ref("ads/".concat(s.key,".").concat(c)).put(i);case 12:return l=t.sent,t.next=15,l.ref.getDownloadURL();case 15:return d=t.sent,t.next=18,S["database"]().ref("ads").child(s.key).update({imageSrc:d});case 18:a("setLoading",!1),a("createAd",R({},o,{id:s.key,imageSrc:d})),t.next=27;break;case 22:throw t.prev=22,t.t0=t["catch"](4),a("setError",t.t0.message),a("setLoading",!1),t.t0;case 27:case"end":return t.stop()}}),t,null,[[4,22]])})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchAds:function(){var t=Object(A["a"])(regeneratorRuntime.mark((function t(e){var r,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,r("clearError"),r("setLoading",!0),a=[],t.prev=4,t.next=7,S["database"]().ref("ads").once("value");case 7:n=t.sent,i=n.val(),Object.keys(i).forEach((function(t){var e=i[t];a.push(new T(e.title,e.description,e.ownerId,e.imageSrc,e.promo,t))})),r("loadAds",a),r("setLoading",!1),t.next=19;break;case 14:throw t.prev=14,t.t0=t["catch"](4),r("setError",t.t0.message),r("setLoading",!1),t.t0;case 19:case"end":return t.stop()}}),t,null,[[4,14]])})));function e(e){return t.apply(this,arguments)}return e}(),updateAd:function(){var t=Object(A["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=r.title,i=r.description,o=r.id,a("clearError"),a("setLoading",!0),t.prev=4,t.next=7,S["database"]().ref("ads").child(o).update({title:n,description:i});case 7:a("updateAd",{title:n,description:i,id:o}),a("setLoading",!1),t.next=16;break;case 11:throw t.prev=11,t.t0=t["catch"](4),a("setError",t.t0.message),a("setLoading",!1),t.t0;case 16:case"end":return t.stop()}}),t,null,[[4,11]])})));function e(e,r){return t.apply(this,arguments)}return e}()},getters:{ads:function(t){return t.ads},promoAds:function(t){return t.ads.filter((function(t){return t.promo}))},myAds:function(t,e){return t.ads.filter((function(t){return t.ownerId===e.user.id}))},adById:function(t){return function(e){return t.ads.find((function(t){return t.id===e}))}}}},D=function t(e){Object(I["a"])(this,t),this.id=e},U={state:{user:null},mutations:{setUser:function(t,e){t.user=e}},actions:{registerUser:function(){var t=Object(A["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=r.email,i=r.password,a("clearError"),a("setLoading",!0),t.prev=4,t.next=7,S["auth"]().createUserWithEmailAndPassword(n,i);case 7:o=t.sent,a("setUser",new D(o.uid)),a("setLoading",!1),t.next=17;break;case 12:throw t.prev=12,t.t0=t["catch"](4),a("setLoading",!1),a("setError",t.t0.message),t.t0;case 17:case"end":return t.stop()}}),t,null,[[4,12]])})));function e(e,r){return t.apply(this,arguments)}return e}(),loginUser:function(){var t=Object(A["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=r.email,i=r.password,a("clearError"),a("setLoading",!0),t.prev=4,t.next=7,S["auth"]().signInWithEmailAndPassword(n,i);case 7:o=t.sent,a("setUser",new D(o.uid)),a("setLoading",!1),t.next=17;break;case 12:throw t.prev=12,t.t0=t["catch"](4),a("setLoading",!1),a("setError",t.t0.message),t.t0;case 17:case"end":return t.stop()}}),t,null,[[4,12]])})));function e(e,r){return t.apply(this,arguments)}return e}(),autoLoginUser:function(t,e){var r=t.commit;r("setUser",new D(e.uid))},logoutUser:function(t){var e=t.commit;S["auth"]().signOut(),e("setUser",null)}},getters:{user:function(t){return t.user},isUserLoggedIn:function(t){return null!==t.user}}},q={state:{loading:!1,error:null},mutations:{setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},actions:{setLoading:function(t,e){var r=t.commit;r("setLoading",e)},setError:function(t,e){var r=t.commit;r("setError",e)},clearError:function(t){var e=t.commit;e("setError")}},getters:{loading:function(t){return t.loading},error:function(t){return t.error}}},B=function t(e,r,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(I["a"])(this,t),this.name=e,this.phone=r,this.adId=a,this.done=n,this.id=i},F={state:{orders:[]},mutations:{loadOrders:function(t,e){t.orders=e}},actions:{createOrder:function(){var t=Object(A["a"])(regeneratorRuntime.mark((function t(e,r){var a,n,i,o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=r.name,i=r.phone,o=r.adId,s=r.ownerId,c=new B(n,i,o),a("clearError"),t.prev=4,t.next=7,S["database"]().ref("/users/".concat(s,"/orders")).push(c);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](4),a("setError",t.t0.message),t.t0;case 13:case"end":return t.stop()}}),t,null,[[4,9]])})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchOrders:function(){var t=Object(A["a"])(regeneratorRuntime.mark((function t(e){var r,a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=e.getters,r("setLoading",!0),r("clearError"),n=[],t.prev=4,t.next=7,S["database"]().ref("/users/".concat(a.user.id,"/orders")).once("value");case 7:i=t.sent,o=i.val(),Object.keys(o).forEach((function(t){var e=o[t];n.push(new B(e.name,e.phone,e.adId,e.done,t))})),r("loadOrders",n),r("setLoading",!1),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](4),r("setLoading",!1),r("setError",t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[4,14]])})));function e(e){return t.apply(this,arguments)}return e}(),markOrderDone:function(){var t=Object(A["a"])(regeneratorRuntime.mark((function t(e,r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,n=e.getters,a("clearError"),t.prev=2,t.next=5,S["database"]().ref("/users/".concat(n.user.id,"/orders")).child(r).update({done:!0});case 5:t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](2),a("setError",t.t0.message),t.t0;case 11:case"end":return t.stop()}}),t,null,[[2,7]])})));function e(e,r){return t.apply(this,arguments)}return e}()},getters:{doneOrders:function(t){return t.orders.filter((function(t){return t.done}))},undoneOrders:function(t){return t.orders.filter((function(t){return!t.done}))},orders:function(t,e){return e.undoneOrders.concat(e.doneOrders)}}};a["a"].use(L["a"]);var M=new L["a"].Store({modules:{ads:P,user:U,shared:q,orders:F}}),z=function(t,e,r){M.getters.user?r():r("login?loginError=true")},Y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-container",{attrs:{fluid:""}},[r("v-layout",[r("v-flex",[r("v-carousel",{attrs:{delimiters:""}},t._l(t.promoAds,(function(e){return r("v-carousel-item",{key:e.id,attrs:{src:e.imageSrc}},[r("div",{staticClass:"car-link"},[r("v-btn",{staticClass:"error",attrs:{to:"/ad/"+e.id}},[t._v(t._s(e.title))])],1)])})),1)],1)],1)],1),r("v-container",[r("v-row",t._l(t.ads,(function(e){return r("v-col",{key:e.id,attrs:{cols:"12",md:"6",lg:"4"}},[r("v-card",[r("v-img",{attrs:{height:"200px",src:e.imageSrc}}),r("v-card-title",[r("div",[r("h3",[t._v(" "+t._s(e.title))]),r("p",[t._v(t._s(e.description))])])]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:"",to:"/ad/"+e.id}},[t._v("\n        Open\n      ")]),r("app-buy-modal",{attrs:{ad:e}})],1)],1)],1)})),1)],1)],1)},J=[],N={computed:{promoAds:function(){return this.$store.getters.promoAds},ads:function(){return this.$store.getters.ads}}},G=N,W=(r("e8ef"),r("b0af")),H=r("99d9"),K=r("5e66"),X=r("3e35"),Q=r("62ad"),Z=r("a523"),tt=r("0e8f"),et=r("adda"),rt=r("a722"),at=r("0fd9"),nt=Object(c["a"])(G,Y,J,!1,null,"7ce9335a",null),it=nt.exports;d()(nt,{VBtn:v["a"],VCard:W["a"],VCardActions:H["a"],VCardTitle:H["c"],VCarousel:K["a"],VCarouselItem:X["a"],VCol:Q["a"],VContainer:Z["a"],VFlex:tt["a"],VImg:et["a"],VLayout:rt["a"],VRow:at["a"],VSpacer:C["a"]});var ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",[r("v-col",[t.loading?r("div",{staticClass:"text-center"},[r("v-progress-circular",{attrs:{size:100,color:"primary",indeterminate:""}})],1):r("v-card",[r("v-img",{attrs:{src:t.ad.imageSrc,height:"300"}}),r("v-card-text",[r("h1",{staticClass:"text--primary"},[t._v(t._s(t.ad.title))]),r("p",[t._v(t._s(t.ad.description))])]),r("v-card-actions",[r("v-spacer"),t.isOwner?r("app-edit-ad-modal",{attrs:{ad:t.ad}}):t._e(),r("app-buy-modal",{attrs:{ad:t.ad}})],1)],1)],1)],1)],1)},st=[],ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"400",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-btn",t._g({staticClass:"warning"},a),[t._v("Edit")])]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[r("v-card",[r("v-card-title",[r("h1",{staticClass:"text--primary"},[t._v("Edit ad")])]),r("v-divider"),r("v-card-text",{staticClass:"mt-6"},[r("v-text-field",{attrs:{label:"Title",name:"title",type:"text"},model:{value:t.editedTitle,callback:function(e){t.editedTitle=e},expression:"editedTitle"}}),r("v-text-field",{attrs:{label:"Description",name:"description",type:"text","multy-line":""},model:{value:t.editedDescription,callback:function(e){t.editedDescription=e},expression:"editedDescription"}})],1),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:t.onCancel}},[t._v("Cancel")]),r("v-btn",{staticClass:"success",attrs:{text:""},on:{click:t.onSave}},[t._v("Save")])],1)],1)],1)},lt=[],dt={props:["ad"],data:function(){return{modal:!1,editedTitle:this.ad.title,editedDescription:this.ad.description}},methods:{onCancel:function(){this.editedDescription=this.ad.description,this.editedTitle=this.ad.title,this.modal=!1},onSave:function(){""!==this.editedDescription&&""!==this.editedTitle&&(this.$store.dispatch("updateAd",{title:this.editedTitle,description:this.editedDescription,id:this.ad.id}),this.modal=!1)}}},ut=dt,pt=r("169a"),mt=r("ce7e6"),vt=r("8654"),ft=Object(c["a"])(ut,ct,lt,!1,null,null,null),ht=ft.exports;d()(ft,{VBtn:v["a"],VCard:W["a"],VCardActions:H["a"],VCardText:H["b"],VCardTitle:H["c"],VDialog:pt["a"],VDivider:mt["a"],VSpacer:C["a"],VTextField:vt["a"]});var gt={props:["id"],computed:{ad:function(){var t=this.id;return this.$store.getters.adById(t)},loading:function(){return this.$store.getters.loading},isOwner:function(){return this.ad.ownerId===this.$store.getters.user.id}},components:{appEditAdModal:ht}},bt=gt,wt=r("490a"),xt=Object(c["a"])(bt,ot,st,!1,null,null,null),yt=xt.exports;d()(xt,{VCard:W["a"],VCardActions:H["a"],VCardText:H["b"],VCol:Q["a"],VContainer:Z["a"],VImg:et["a"],VProgressCircular:wt["a"],VRow:at["a"],VSpacer:C["a"]});var Vt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.loading||0==t.myAds.length?t.loading||0!=t.myAds.length?r("v-row",{attrs:{justify:"center"}},[r("v-progress-circular",{attrs:{size:100,color:"primary",indeterminate:""}})],1):r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{md:"6",sm:"9"}},[r("h1",{staticClass:"text--secondary mb3"},[t._v("You have no ads")])])],1):r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{md:"6",sm:"9"}},[r("h1",{staticClass:"text--secondary mb3"},[t._v("My ads")]),t._l(t.myAds,(function(e){return r("v-card",{key:e.id,staticClass:"elevation-10 mb-3"},[r("v-row",{staticClass:"ml-0 mr-0"},[r("v-col",{staticClass:"pa-0",attrs:{cols:"4"}},[r("v-img",{attrs:{src:e.imageSrc,height:"170"}})],1),r("v-col",{attrs:{cols:"8"}},[r("v-card-text",[r("h2",{staticClass:"text--primary"},[t._v(t._s(e.title))]),r("p",[t._v(t._s(e.description))])]),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"info",attrs:{to:"/ad/"+e.id}},[t._v("Open")])],1)],1)],1)],1)}))],2)],1)],1)},Ct=[],_t={computed:{myAds:function(){return this.$store.getters.myAds},loading:function(){return this.$store.getters.loading}}},kt=_t,Ot=Object(c["a"])(kt,Vt,Ct,!1,null,null,null),Et=Ot.exports;d()(Ot,{VBtn:v["a"],VCard:W["a"],VCardActions:H["a"],VCardText:H["b"],VCol:Q["a"],VContainer:Z["a"],VImg:et["a"],VProgressCircular:wt["a"],VRow:at["a"],VSpacer:C["a"]});var Lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",{staticClass:"flex-column",attrs:{justify:"center",align:"center"}},[r("v-col",{attrs:{sm:"9",md:"6",mb:"3"}},[r("h1",{staticClass:"text--secondary mb-3 text-center"},[t._v("Create new ad")]),r("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{label:"Ad title",name:"title",type:"text",required:"",rules:[function(t){return!!t||"Title is required"}],required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),r("v-textarea",{attrs:{label:"Ad description",name:"description",type:"text","multy-line":"",rules:[function(t){return!!t||"Description is required"}]},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),r("v-col",{staticClass:"mb-3",attrs:{sm:"9",md:"6"}},[r("v-btn",{staticClass:"ma-2 warning",attrs:{color:"blue-grey"},on:{click:t.triggerUpload}},[t._v("\n      \t\t\t      Upload\n      \t\t\t      "),r("v-icon",{attrs:{right:"",dark:""}},[t._v("mdi-cloud-upload")])],1),r("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChange}})],1),r("v-col",{staticClass:"mb-3",attrs:{sm:"9",md:"6"}},[t.imageSrc?r("img",{attrs:{src:t.imageSrc,height:"100"}}):t._e()]),r("v-col",{attrs:{sm:"9",md:"6"}},[r("v-switch",{attrs:{label:"Ad to promo?",color:"primary"},model:{value:t.promo,callback:function(e){t.promo=e},expression:"promo"}})],1),r("v-col",{attrs:{sm:"9",md:"6"}},[r("v-btn",{staticClass:"success",attrs:{loading:t.loading,disabled:!t.valid||!t.image||t.loading},on:{click:t.createAd}},[t._v("Create ad")])],1)],1)],1)},jt=[],At={data:function(){return{title:"",description:"",valid:!1,promo:!1,image:null,imageSrc:""}},computed:{loading:function(){return this.$store.getters.loading}},methods:{createAd:function(){var t=this;if(this.$refs.form.validate()&&this.image){var e={title:this.title,description:this.description,promo:this.promo,image:this.image};this.$store.dispatch("createAd",e).then((function(){t.$router.push("list")})).catch((function(){}))}},triggerUpload:function(){this.$refs.fileInput.click()},onFileChange:function(t){var e=this,r=t.target.files[0],a=new FileReader;a.onload=function(t){e.imageSrc=a.result},a.readAsDataURL(r),this.image=r}}},It=At,St=r("4bd4"),$t=r("b73d"),Rt=r("a844"),Tt=Object(c["a"])(It,Lt,jt,!1,null,null,null),Pt=Tt.exports;d()(Tt,{VBtn:v["a"],VCol:Q["a"],VContainer:Z["a"],VForm:St["a"],VIcon:h["a"],VRow:at["a"],VSwitch:$t["a"],VTextField:vt["a"],VTextarea:Rt["a"]});var Dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[t._v("Login form")])],1),r("v-card-text",[r("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{label:"Email",name:"email","prepend-icon":"mdi-account",type:"email",rules:t.emailRules,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password",counter:6,rules:t.passwordRules},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:!t.valid||t.loading},on:{click:t.onSubmit}},[t._v("Login")])],1)],1)],1)],1)],1)},Ut=[],qt={data:function(){return{email:"",password:"",valid:!1,passwordRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=6||"Password must be equal or more than 6 characters"}],emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}]}},computed:{loading:function(){return this.$store.getters.loading}},methods:{onSubmit:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,password:this.password};this.$store.dispatch("loginUser",e).then((function(){t.$router.push("/")})).catch((function(){}))}}},created:function(){this.$route.query["loginError"]&&this.$store.dispatch("setError","Please log in to access this page")}},Bt=qt,Ft=r("71d9"),Mt=Object(c["a"])(Bt,Dt,Ut,!1,null,null,null),zt=Mt.exports;d()(Mt,{VBtn:v["a"],VCard:W["a"],VCardActions:H["a"],VCardText:H["b"],VCol:Q["a"],VContainer:Z["a"],VForm:St["a"],VRow:at["a"],VSpacer:C["a"],VTextField:vt["a"],VToolbar:Ft["a"],VToolbarTitle:_["b"]});var Yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[r("v-toolbar-title",[t._v("Registration")])],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{label:"Email",name:"email","prepend-icon":"mdi-account",type:"email",rules:t.emailRules,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password",counter:6,rules:t.passwordRules},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("v-text-field",{attrs:{id:"confirm-password",label:"Confirm password",name:"confirm-password","prepend-icon":"mdi-lock",type:"password",counter:6,rules:t.confirmPasswordRules},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:!t.valid||t.loading},on:{click:t.onSubmit}},[t._v("Create account")])],1)],1)],1)],1)],1)},Jt=[],Nt={data:function(){var t=this;return{email:"",password:"",confirmPassword:"",valid:!1,passwordRules:[function(t){return!!t||"Password is required"},function(t){return t&&t.length>=6||"Password must be equal or more than 6 characters"}],emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],confirmPasswordRules:[function(t){return!!t||"E-mail is required"},function(e){return e===t.password||"E-mail shoul be equal"}]}},computed:{loading:function(){return this.$store.getters.loading}},methods:{onSubmit:function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,password:this.password};this.$store.dispatch("registerUser",e).then((function(){t.$router.push("/")})).catch((function(){}))}}}},Gt=Nt,Wt=Object(c["a"])(Gt,Yt,Jt,!1,null,null,null),Ht=Wt.exports;d()(Wt,{VBtn:v["a"],VCard:W["a"],VCardActions:H["a"],VCardText:H["b"],VCol:Q["a"],VContainer:Z["a"],VForm:St["a"],VRow:at["a"],VSpacer:C["a"],VTextField:vt["a"],VToolbar:Ft["a"],VToolbarTitle:_["b"]});var Kt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[t.loading||0===t.orders.length?t.loading?r("v-row",{attrs:{justify:"center"}},[r("v-progress-circular",{attrs:{size:100,color:"primary",indeterminate:""}})],1):r("v-row",{attrs:{justify:"center"}},[r("h1",{staticClass:"text--secondary"},[t._v("You have no orders")])]):r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{md:"6",sm:"9"}},[r("h1",{staticClass:"text--secondary mb-3"},[t._v("Orders")]),t._l(t.orders,(function(e){return r("v-list",{key:e.key,attrs:{subheader:"","two-line":""}},[r("v-list-item",[r("v-list-item-action",[r("v-checkbox",{attrs:{color:"success",readonly:e.done},on:{change:function(r){return t.markDone(e)}}})],1),r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.name))]),r("v-list-item-subtitle",[t._v(t._s(e.phone))])],1),r("v-list-item-action",[r("v-btn",{staticClass:"primary",attrs:{to:"/ad/"+e.adId}},[t._v("Open")])],1)],1)],1)}))],2)],1)],1)},Xt=[],Qt={computed:{loading:function(){return this.$store.getters.loading},orders:function(){return this.$store.getters.orders}},methods:{markDone:function(t){this.$store.dispatch("markOrderDone",t.id).then((function(){t.done=!0})).catch((function(){}))}},created:function(){this.$store.dispatch("fetchOrders")}},Zt=Qt,te=r("ac7c"),ee=r("1800"),re=Object(c["a"])(Zt,Kt,Xt,!1,null,null,null),ae=re.exports;d()(re,{VBtn:v["a"],VCheckbox:te["a"],VCol:Q["a"],VContainer:Z["a"],VList:g["a"],VListItem:b["a"],VListItemAction:ee["a"],VListItemContent:w["a"],VListItemSubtitle:w["b"],VListItemTitle:w["c"],VProgressCircular:wt["a"],VRow:at["a"]}),a["a"].use(E["a"]);var ne=new E["a"]({routes:[{path:"",name:"home",component:it},{path:"/ad/:id",props:!0,name:"ad",component:yt},{path:"/list",name:"list",component:Et,beforeEnter:z},{path:"/new",name:"newAd",component:Pt,beforeEnter:z},{path:"/login",name:"login",component:zt},{path:"/registration",name:"registration",component:Ht},{path:"/orders",name:"orders",component:ae,beforeEnter:z}],mode:"history"}),ie=r("f309"),oe=r("fcf4");a["a"].use(ie["a"]);var se=new ie["a"]({icons:{iconfont:"mdi"},theme:{dark:!0,themes:{dark:{primary:oe["a"].red.darken1}}}}),ce=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"400"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-btn",t._g({staticClass:"primary ml-4"},a),[t._v("Buy")])]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[r("v-card",[r("v-card-title",[t._v("\n\t\t\t\tDo you want to buy it?\n\t\t\t")]),r("v-divider"),r("v-card-text",{staticClass:"mt-6"},[r("v-text-field",{attrs:{label:"Your name",name:"name",type:"text"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),r("v-text-field",{attrs:{label:"Your phone",name:"phone",type:"text"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:"",disabled:t.localLoading},on:{click:t.onCancel}},[t._v("Close")]),r("v-btn",{staticClass:"success",attrs:{text:"",disabled:t.localLoading,loading:t.localLoading},on:{click:t.onSave}},[t._v("Buy it!")])],1)],1)],1)},le=[],de={props:["ad"],data:function(){return{modal:!1,name:"",phone:"",localLoading:!1}},methods:{onCancel:function(){this.name="",this.phone="",this.modal=!1},onSave:function(){var t=this;""!==this.name&&""!==this.phone&&(this.localLoading=!0,this.$store.dispatch("createOrder",{name:this.name,phone:this.phone,adId:this.ad.id,ownerId:this.ad.ownerId}).finally((function(){t.name="",t.phone="",t.localLoading=!1,t.modal=!1})))}}},ue=de,pe=Object(c["a"])(ue,ce,le,!1,null,null,null),me=pe.exports;d()(pe,{VBtn:v["a"],VCard:W["a"],VCardActions:H["a"],VCardText:H["b"],VCardTitle:H["c"],VDialog:pt["a"],VDivider:mt["a"],VSpacer:C["a"],VTextField:vt["a"]}),a["a"].use(se),a["a"].component("app-buy-modal",me),new a["a"]({router:ne,store:M,render:function(t){return t(O)},vuetify:se,created:function(){var t=this;S["initializeApp"]({apiKey:"AIzaSyC3xqwPFFpCUHFX9mJ1xn7OGDGvT36sM7E",authDomain:"itc-ads-5cb01.firebaseapp.com",databaseURL:"https://itc-ads-5cb01.firebaseio.com",projectId:"itc-ads-5cb01",storageBucket:"itc-ads-5cb01.appspot.com",messagingSenderId:"253479816369",appId:"1:253479816369:web:2ff0aaf3556812ca892690"}),S["auth"]().onAuthStateChanged((function(e){e&&t.$store.dispatch("autoLoginUser",e)})),this.$store.dispatch("fetchAds")}}).$mount("#app")},6914:function(t,e,r){},e8ef:function(t,e,r){"use strict";var a=r("6914"),n=r.n(a);n.a}});
//# sourceMappingURL=app.6b34f4f7.js.map